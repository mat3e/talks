<!DOCTYPE html>
<html>

<head>
    <meta name="description" content="Presentation">
    <meta name="keywords" content="presentation">
    <meta name="author" content="mat3e">
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
    <meta content="utf-8" http-equiv="encoding">

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/blood.css">
    <link rel="stylesheet" href="css/idea.css">
    <link rel="stylesheet" href="css/fontawesome.css">
    <style>
        @font-face {
            font-family: 'Gloria Hallelujah';
            font-style: normal;
            font-weight: 400;
            src: url('webfonts/gloria.woff2') format('woff2');
        }

        .reveal .slides section .header-margin {
            text-align: left;
            border-left: solid .25em white;
            line-height: .85;
            padding-left: .25em;
        }

        .reveal .slides section .header-logo {
            width: 375px;
            height: 80px;
            background-image: url('img/twitter.png');
            background-size: contain;
            top: -4em;
            right: 0;
            position: absolute;
        }

        #about-me {
            padding: 1em;
            background-color: rgba(255, 255, 255, .75);
            list-style-type: none;
            margin-left: 0;
            float: left;
        }

        #about-me ul {
            list-style-type: none;
            float: left;
            margin-left: 0;
        }

        #about-me a {
            color: #a23;
        }

        #about-me a:hover {
            color: #dd5566;
        }

        .slides section img.pure-img {
            border: none;
            box-shadow: none;
            background: none;
            margin: 0;
        }

        code[contenteditable="true"] {
            border: 0;
            outline: 0;
        }

        .slides section pre {
            margin-bottom: 0;
        }

        .slides section pre+button {
            cursor: pointer;

            font-size: .65em;
            font-weight: 100;
            -webkit-font-smoothing: antialiased;

            color: white;
            background: rgb(175, 30, 35);

            padding: 0 3px 3px 3px;
            border: transparent;
            border-radius: 4px;

            display: block;
            margin: 0 auto;
        }

        .slides section pre+button:disabled {
            background-color: grey;
        }

        .slides section a .stripped-img {
            border: none;
            margin: 0;
            box-shadow: none;
            background-color: rgba(255, 255, 255, 0);
        }

        .slides section a .stripped-img:hover {
            border: none;
            margin: 0;
            box-shadow: none;
            background-color: rgba(255, 255, 255, 0);
        }

        .slides section .comment {
            margin-top: -20px;
            margin-bottom: 20px;
            color: gray;
        }

        .reveal .slides section .fragment.replace {
            transition: none;
            display: inline-block;
        }

        .reveal .slides section .fragment.fade-out.f.replace {
            display: flex;
        }

        .reveal .slides section .fragment.fade-out.visible.replace {
            display: none;
        }

        .reveal .slides section .fragment.fade-in.replace {
            display: none;
        }

        .reveal .slides section .fragment.fade-in.visible.replace {
            display: inline-block;
        }

        .reveal .slides section .fragment.highlight-red.visible {
            color: #dd5566;
        }

        #hook-here button {
            padding: 1em;
            border-radius: 0;
            background-color: white;
            border: 1px solid black;
        }

        .reveal .slides section td.long-text-cell {
            font-size: .5em;
            vertical-align: middle;
        }

        .reveal .slides section table.summary {
            table-layout: fixed;
            width: 100%;
        }

        .reveal .slides section table.summary th {
            text-align: center;
        }

        .reveal .slides section table.summary tbody td,
        .reveal .slides section table.summary th {
            width: 33%;
        }

        .reveal .slides section table.summary tbody td:first-child,
        .reveal .slides section table.summary th:first-child {
            width: 7%;
            vertical-align: middle;
            text-align: center
        }

        .reveal .slides section .fragment.no-highlight.visible {
            color: #eee;
        }

        .reveal .slides section .fragment.no-highlight {
            opacity: 1;
            visibility: inherit;
        }

        .reveal .slides section .centered {
            display: flex;
            align-items: center;
            justify-content: center;
        }
    </style>
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>
</head>

<body>
    <div class="reveal">
        <div class="slides">
            <section data-background-image>
                <section data-background-image>
                    <div class="header-margin">
                        <h1 style="margin: 0; font-size: 1.75em">Server-side rendered micro-frontends</h1>
                        <h2 style="font-size: 1.25em">on AWS Lambda</h2>
                    </div>
                    <div class="header-logo"></div>
                    <aside class="notes">
                        SSR, micro-frontends, AWS, Lambda - one by one
                    </aside>
                </section>
                <section data-background-image="">
                    <h3>
                        <span>Context</span><span class="fragment" data-fragment-index="1"> is important</span>
                    </h3>
                    <a class="fragment" data-fragment-index="1"
                        href="https://www.reddit.com/r/ProgrammerHumor/comments/8lt4gg/sometimes_i_wonder_if_nontech_friends_wonder/">
                        <img src="img/search.png" class="pure-img">
                    </a>
                </section>
                <section data-background-image="img/bg-hd.jpg" data-background-transition="zoom">
                    <ul id="about-me">
                        <li>
                            <ul style="padding-left: 0;">
                                <li>
                                    <a href="https://www.linkedin.com/in/mateusz-chrzonstowski/">
                                        <i class="fab fa-linkedin"
                                            style="color: #0077B5; background-color: #FFF; line-height: .75em"></i>
                                        /mateusz-chrzonstowski
                                    </a>
                                </li>
                                <li>
                                    <a href="https://twitter.com/_mat3e_">
                                        <i class="fab fa-twitter-square"
                                            style="background-color: #1DA1F2; color: #FFF; line-height: .75em"></i>
                                        /_mat3e_
                                    </a>
                                </li>
                                <li>
                                    <a href="https://www.reddit.com/user/_mat3e_">
                                        <i class="fab fa-reddit-square"
                                            style="background-color: #FF4500; color: #FFF; line-height: .75em"></i>
                                        /_mat3e_
                                    </a>
                                </li>
                                <li>
                                    <a href="https://github.com/mat3e/">
                                        <i class="fab fa-github-square"
                                            style="color: #24292E; background-color: #FFF; line-height: .75em"></i>
                                        /mat3e
                                    </a>
                                </li>
                                <li style="line-height: 1">&nbsp;</li>
                                <li class="fragment" style="line-height: .75">
                                    <a style="font-size: .75em; font-weight: bold;"
                                        href="https://mat3e.github.io/talks/micro-frontends/WarsawJS.html">
                                        mat3e.github.io/talks
                                        <div style="padding-left: 2em;">
                                            /micro-frontends/WarsawJS</div>
                                    </a>
                                </li>
                                <li style="line-height: 1">&nbsp;</li>
                            </ul>
                        </li>
                        <li>
                            <ul class="fragment" style="padding: .1em; line-height: 1">
                                <li>
                                    <a href="https://www.udemy.com/fajny-javascript/?couponCode=OPENALL">
                                        <img src="img/udemy.svg" class="pure-img" style="height: 1.5em;">
                                    </a>
                                </li>
                                <li>
                                    <a href="https://allegro.tech/">
                                        <img src="img/allegro-tech.svg" class="pure-img" style="height: 1.5em;">
                                    </a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </section>
            </section>
            <section data-background-image="" data-transition="zoom">
                <section data-transition="zoom" data-background-image>
                    <div class="header-margin">
                        <h1 style="margin: 0; font-size: 1.75em">Server-side rendered micro-frontends</h1>
                        <h2 style="font-size: 1.25em"><span class="fragment fade-out replace"
                                data-fragment-index="1">on</span><del class="fragment fade-in replace"
                                style="color: #dd5566" data-fragment-index="1">on</del> AWS Lambda</h2>
                    </div>
                    <div class="header-logo"></div>
                </section>
                <section data-background-size="cover" data-background-image="img/company.jpg">
                    <aside class="notes">
                        Problem - x company, photographed byÂ Alex Iby. FE perspective:
                        how to make them coopoerate? Micro-frontends can help
                    </aside>
                    <a style="background-color:black;color:white;text-decoration:none;padding:4px 6px;font-family:-apple-system, BlinkMacSystemFont, 'San Francisco', 'Helvetica Neue', Helvetica, Ubuntu, Roboto, Noto, 'Segoe UI', Arial, sans-serif;font-size:12px;font-weight:bold;line-height:1.2;display:inline-block;border-radius:3px;position:fixed;bottom:0;"
                        href="https://unsplash.com/@alexiby?utm_medium=referral&utm_campaign=photographer-credit&utm_content=creditBadge"
                        target="_blank" rel="noopener noreferrer"
                        title="Download free do whatever you want high-resolution photos from Alex Iby"
                        class="fragment">
                        <span style="display:inline-block;padding:2px 3px">
                            <svg xmlns="http://www.w3.org/2000/svg"
                                style="height:12px;width:auto;position:relative;vertical-align:middle;top:-2px;fill:white"
                                viewBox="0 0 32 32">
                                <title>unsplash-logo</title>
                                <path d="M10 9V0h12v9H10zm12 5h10v18H0V14h10v9h12v-9z"></path>
                            </svg>
                        </span>
                        <span style="display:inline-block;padding:2px 3px">Alex Iby</span>
                    </a>
                </section>
                <section data-transition="zoom-in fade-out" style="font-family: 'Gloria Hallelujah'; color: black"
                    data-background-color="white" data-background-image="img/twitter2.png" data-background-size="240px"
                    data-background-position="20px 20px">
                    <div style="display: flex; justify-content: space-evenly;">
                        <div style="display: flex; align-items: center; justify-content: center">
                            <img src="img/react.svg" class="pure-img fragment" style="width: 35px"
                                data-fragment-index="1">
                            <div data-fragment-index="6" class="fragment fade-out replace">
                                <img src="img/thumb2.png" class="pure-img fragment" style="height: 20vh"
                                    data-fragment-index="1">
                            </div>
                            <img src="img/no2.png" class="pure-img fragment fade-in replace" style="height: 20vh"
                                data-fragment-index="6">
                        </div>
                        <div style="display: flex; align-items: center; justify-content: center">
                            <img src="img/angular.svg" class="pure-img fragment" style="width: 40px"
                                data-fragment-index="2">
                            <div data-fragment-index="6" class="fragment fade-out replace">
                                <img src="img/thumb4.png" class="pure-img fragment" style="height: 20vh"
                                    data-fragment-index="2">
                            </div>
                            <img src="img/no1.png" class="pure-img fragment fade-in replace" style="height: 20vh"
                                data-fragment-index="6">
                        </div>
                    </div>
                    <div style="display: flex; justify-content: space-evenly;">
                        <span class="fragment" data-fragment-index="1">Rob</span>
                        <span class="fragment" data-fragment-index="2">Agnes</span>
                    </div>
                    <div style="display: flex; justify-content: space-evenly;">
                        <div style="display: flex; align-items: center; justify-content: center">
                            <img src="img/vue.svg" class="pure-img fragment" style="width: 35px"
                                data-fragment-index="3">
                            <div data-fragment-index="6" class="fragment fade-out replace">
                                <img src="img/victory1.png" class="pure-img fragment" style="height: 23vh"
                                    data-fragment-index="3">
                            </div>
                            <img src="img/no4.png" class="pure-img fragment fade-in replace"
                                style="height: 20vh; margin-top: 3vh" data-fragment-index="6">
                        </div>
                        <div style="display: flex; align-items: center; justify-content: center">
                            <img src="img/js.png" class="pure-img fragment" style="width: 30px" data-fragment-index="4">
                            <div data-fragment-index="6" class="fragment fade-out replace">
                                <img src="img/thumb1.png" class="pure-img fragment" data-fragment-index="4"
                                    style="height: 20vh; margin-top: 3vh">
                            </div>
                            <img src="img/dunno.png" class="pure-img fragment fade-in replace"
                                style="height: 20vh; margin-top: 3vh" data-fragment-index="6">
                        </div>
                    </div>
                    <div style="display: flex; justify-content: space-evenly;">
                        <span class="fragment" data-fragment-index="3">Vitali</span>
                        <span class="fragment" data-fragment-index="4">John</span>
                    </div>
                    <div class="fragment replace fade-in" data-fragment-index="5"
                        style="position: absolute; top: 3.5em; left: calc(50% - 250px); width: 500px;">
                        <img src="img/boyz.jpg" class="pure-img fragment replace fade-out" data-fragment-index="6"
                            style="border: solid 1px black;">
                    </div>
                </section>
            </section>
            <section data-background-image="" data-transition="zoom">
                <section data-transition="zoom" data-background-image>
                    <div class="header-margin">
                        <h1 style="margin: 0; font-size: 1.75em"><span class="fragment highlight-green">Server-side
                                rendered</span> micro-frontends</h1>
                        <h2 style="font-size: 1.25em">on AWS Lambda</h2>
                    </div>
                    <div class="header-logo"></div>
                </section>
                <section>
                    <div style="display: flex; justify-content: space-between; align-items: center; height: 500px;">
                        <img src="img/web_server.png" class="pure-img" style="width: 400px;">
                        <div class="fragment fade-out replace f" data-fragment-index="8"
                            style="height: 100%; flex-direction: column; justify-content: space-between; align-items: center; width: 55px;">
                            <img src="img/html.png" class="pure-img fragment" data-fragment-index="2"
                                data-autoslide="300" style="height: 75px;">
                            <img src="img/html.png" class="pure-img fragment" data-fragment-index="3"
                                data-autoslide="300" style="height: 75px;">
                            <img src="img/html.png" class="pure-img fragment" data-fragment-index="4"
                                data-autoslide="300" style="height: 75px;">
                            <img src="img/html.png" class="pure-img fragment" data-fragment-index="5"
                                data-autoslide="300" style="height: 75px;">
                            <img src="img/html.png" class="pure-img fragment" data-fragment-index="6"
                                style="height: 75px;">
                        </div>
                        <div class="fragment fade-in replace" style="width: 55px;" data-fragment-index="8">
                            <img src="img/html.png" class="pure-img" style="height: 75px;">
                        </div>
                        <div style="width: 400px;" class="fragment" data-fragment-index="1">
                            <img src="img/laptop.png" class="pure-img fragment fade-out replace" data-fragment-index="7"
                                style="width: 250px;">
                            <span class="fragment fade-in replace" data-fragment-index="7">
                                <img src="img/laptop.png" class="pure-img fragment fade-out replace"
                                    data-fragment-index="11" style="width: 400px;">
                            </span>
                            <div class="fragment fade-in replace" data-fragment-index="11">
                                <img src="img/smartphone.png" class="pure-img fragment fade-out replace"
                                    data-fragment-index="12" style="width: 200px;">
                                <img src="img/smartwatch.png" class="pure-img fragment fade-in replace"
                                    data-fragment-index="12" style="width: 150px;">
                            </div>
                        </div>
                    </div>
                    <div style="position: absolute; top: 5%; left:0; right: 0;" class="fragment fade-out replace"
                        data-fragment-index="10">
                        <pre class="fragment" data-fragment-index="9"><code class="html" data-trim data-line-numbers="7-9">
                            &lt;!DOCTYPE html>
                            &lt;html lang="en">
                            &lt;head>
                                &lt;meta charset="UTF-8">
                                &lt;title>Document&lt;/title>
                            &lt;/head>
                            &lt;body>
                                &lt;div data-ng-app="angular.Module">&lt;/div>
                            &lt;/body>
                            &lt;/html>
                        </code></pre>
                    </div>
                    <aside class="notes">
                        Client + server; MPA, HTML, php, jsp; &lt;ng-app>; smartphone; not only iPhones
                        (Kai OS); smartwatch
                    </aside>
                </section>
                <section>
                    <h4 style="margin: 0">
                        SPA - more problems:
                        <div>
                            <img src="img/seo.webp" class="pure-img fragment" style="height: 4.5em;"
                                data-fragment-index="1">
                        </div>
                    </h4>
                    <ul style="margin: 0; width: 50%; margin: 0 auto">
                        <li class="fragment" data-autoslide="1500">How to earn money?</li>
                        <li class="fragment" data-autoslide="1500">Google: <span class="fragment"
                                data-autoslide="1500">5 honorable jobs</span></li>
                        <li class="fragment" data-autoslide="1500">Bing:
                            <div>
                                <img class="fragment pure-img" src="img/crime.png" />
                            </div>
                        </li>
                    </ul>
                    <div style="position: absolute; top: 5%; left: 0; right: 0;" class="fragment fade-out replace"
                        data-fragment-index="3">
                        <img src="img/2nd.png" class="pure-img fragment" data-fragment-index="2" style="width: 50%;" />
                    </div>
                </section>
                <section>
                    <h2>Back to the SERVER!</h2>
                    <h2 class="fragment">
                        <img src="img/node.svg" class="pure-img" style="height: 2em;">
                    </h2>
                    <aside class="notes">
                        since 2009 NodeJS
                    </aside>
                </section>
                <section>
                    <h2 style="margin: 0">SSR</h2>
                    <ol>
                        <li class="fragment">
                            Common part, e.g. React component:
                            <pre style="width: 100%; margin: 0"><code class="typescript" data-trim contentEditable="true" data-line-numbers="1,10-11" style="font-size: .9em; line-height: 1.1;">
                            export default () => {
                                const [random, setRandom] = useState(Math.random().toString());
                                useEffect(() => {
                                    let interval: number | undefined;
                                    interval = window.setInterval(() => {
                                        setRandom(Math.random().toString());
                                    }, 1000);
                                    return () => window.clearInterval(interval);
                                });
                                return &lt;h1>Hello {random}! Nice SSR we got here!&lt;/h1>
                            };
                            </code></pre>
                        </li>
                        <li class="fragment">
                            Rendering on the server:
                            <pre style="width: 100%; margin: 0"><code class="javascript" data-trim contenteditable="true">
                                ReactDOMServer.renderToString(&lt;Hello />);
                            </code></pre>
                        </li>
                        <li class="fragment">
                            "Refreshing" in the browser:
                            <pre style="width: 100%; margin: 0"><code class="javascript" data-trim contenteditable="true">
                                ReactDOM.hydrate(&lt;Hello />, document.getElementById('root'));
                            </code></pre>
                        </li>
                    </ol>
                    <p>
                        <small class="fragment">[demo]</small>
                    </p>
                    <aside class="notes">
                        renderToString - put the result in id="root"
                        <br>
                        React "marks" in the output
                        <br>
                        tooling around, e.g. Next.js, but also hypernova, helpful for micro-frontends
                    </aside>
                </section>
                <section>
                    <h3 style="margin: 0;">Tools - <a href="https://github.com/airbnb/hypernova">hypernova</a></h3>
                    <div>
                        <img src="img/hn/browser-hypernova.png" class="pure-img fragment" data-fragment-index="8">
                    </div>
                    <div style="display: flex;">
                        <img src="img/hn/browser.png" class="pure-img fragment" data-fragment-index="1">
                        <div style="display: flex; flex-direction: column; justify-content: center;">
                            <img src="img/hn/browser-server.png" class="pure-img fragment" data-fragment-index="4">
                            <img src="img/hn/server-browser.png" class="pure-img fragment" data-fragment-index="7">
                        </div>
                        <img src="img/hn/server.png" class="pure-img fragment" data-fragment-index="2">
                        <div style="display: flex; flex-direction: column; justify-content: center;">
                            <img src="img/hn/server-hypernova.png" class="pure-img fragment" data-fragment-index="5">
                            <img src="img/hn/hypernova-server.png" class="pure-img fragment" data-fragment-index="6">
                        </div>
                        <img src="img/hn/hypernova.png" class="pure-img fragment" data-fragment-index="3">
                    </div>
                    <p>
                        <small class="fragment">[demo]</small>
                    </p>
                </section>
            </section>
            <section data-background-image="" data-transition="zoom">
                <section data-transition="zoom" data-background-image>
                    <div class="header-margin">
                        <h1 style="margin: 0; font-size: 1.75em">Server-side
                            rendered <span class="fragment highlight-green">micro-frontends</span></h1>
                        <h2 style="font-size: 1.25em">on AWS Lambda</h2>
                    </div>
                    <div class="header-logo"></div>
                </section>
                <section>
                    <a
                        href="https://medium.com/js-dojo/micro-frontends-using-vue-js-react-js-and-hypernova-af606a774602">
                        <div class="fragment fade-out replace" data-fragment-index="2">
                            <img src="img/evo/1.png" class="pure-img fragment fade-out replace" data-fragment-index="1">
                            <img src="img/evo/2.png" class="pure-img fragment fade-in replace" data-fragment-index="1">
                        </div>
                        <div class="fragment fade-in replace" data-fragment-index="2">
                            <img src="img/evo/3.png" class="pure-img">
                        </div>
                    </a>
                </section>
                <section>
                    <img src="img/micro.jpg" class="pure-img" style="width: 40%">
                    <ul>
                        <li class="fragment">
                            <a href="https://www.martinfowler.com/microservices/">
                                Strong Module Boundaries
                            </a>
                            <ul>
                                <li class="fragment">
                                    <a
                                        href="https://microservices.io/patterns/decomposition/self-contained-service.html">
                                        Self-contained Service
                                    </a>
                                </li>
                                <li class="fragment">
                                    <a href="https://www.martinfowler.com/bliki/BoundedContext.html">
                                        BoundedContext
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <li class="fragment">
                            <a href="https://www.martinfowler.com/microservices/">
                                Independent Deployment
                            </a>
                        </li>
                        <li class="fragment">
                            <a href="https://www.martinfowler.com/microservices/">
                                Technology Diversity
                            </a>
                        </li>
                        <li class="fragment">
                            <a href="https://microservices.io/patterns/decomposition/service-per-team.html">Service per
                                team</a>
                        </li>
                    </ul>
                </section>
                <section data-background-image="img/water.gif" data-background-size="contain"></section>
                <section>
                    <a
                        href="https://medium.com/js-dojo/micro-frontends-using-vue-js-react-js-and-hypernova-af606a774602">
                        <div>
                            <img src="img/evo/3.png" class="pure-img fragment fade-out replace" data-fragment-index="1">
                            <img src="img/evo/4.png" class="pure-img fragment fade-in replace" data-fragment-index="1">
                        </div>
                    </a>
                </section>
                <section>
                    <h3>
                        <a href="https://micro-frontends.org/">micro-frontends.org</a>
                    </h3>
                    <ol style="font-size: .9em;">
                        <li class="fragment">Be Technology Agnostic</li>
                        <li class="fragment">Isolate Team Code</li>
                        <li class="fragment">Establish Team Prefixes</li>
                        <li class="fragment">Favor Native Browser Features over Custom APIs</li>
                        <li class="fragment">Build a Resilient Site</li>
                    </ol>
                    <aside class="notes">
                        <ol>
                            <li>Freedom in choosing framework, custom elements</li>
                            <li>Even if everything in React, no common/global variables; self-contained app, all it
                                needs is there</li>
                            <li>No isolation? At least prefixes for events, css, storage, cookies</li>
                            <li>Browser events, no custom pubsub; eventually, OSS
                            </li>
                            <li>Universal rendering, working version even when no JS</li>
                        </ol>
                    </aside>
                </section>
                <section>
                    <h2 style="margin: 0;">How?</h2>
                    <ul>
                        <li class="fragment">Components with team-specific responsibilities</li>
                        <li class="fragment">Client-side
                            <ul>
                                <li class="fragment">
                                    <a
                                        href="https://martinfowler.com/articles/micro-frontends.html#Run-timeIntegrationViaIframes">iframe</a>
                                </li>
                                <li class="fragment"><a href="https://single-spa.js.org/">single-spa</a> etc.</li>
                                <li class="fragment">Web Components</li>
                            </ul>
                        </li>
                        <li class="fragment">Server-side
                            <ul>
                                <li class="fragment">
                                    <a href="https://en.wikipedia.org/wiki/Edge_Side_Includes">Edge
                                        Side Includes</a>
                                </li>
                                <li class="fragment">
                                    <a
                                        href="https://micro-frontends.org/#custom-elements--server-side-includes--%EF%B8%8F">Server
                                        Side Includes</a>
                                </li>
                                <li class="fragment">Hypernova etc.</li>
                            </ul>
                        </li>
                        <li class="fragment">
                            <a href="https://martinfowler.com/articles/micro-frontends.html#Build-timeIntegration">Build-time
                                (package.json
                                itd.)</a>
                        </li>
                    </ul>
                    <p>
                        <small class="fragment">[demo]</small>
                    </p>
                </section>
                <section data-transition="zoom-in fade-out" style="font-family: 'Gloria Hallelujah'; color: black"
                    data-background-color="white" data-background-image="img/twitter2.png" data-background-size="240px"
                    data-background-position="20px 20px">
                    <div style="display: flex; justify-content: space-evenly;">
                        <div style="display: flex; align-items: center; justify-content: center">
                            <img src="img/react.svg" class="pure-img" style="width: 35px">
                            <div data-fragment-index="6" class="fragment fade-in replace">
                                <img src="img/thumb2.png" class="pure-img" style="height: 20vh">
                            </div>
                            <img src="img/no2.png" class="pure-img fragment fade-out replace" style="height: 20vh"
                                data-fragment-index="6">
                        </div>
                        <div style="display: flex; align-items: center; justify-content: center">
                            <img src="img/angular.svg" class="pure-img" style="width: 40px">
                            <div data-fragment-index="6" class="fragment fade-in replace">
                                <img src="img/thumb4.png" class="pure-img" style="height: 20vh">
                            </div>
                            <img src="img/no1.png" class="pure-img fragment fade-out replace" style="height: 20vh"
                                data-fragment-index="6">
                        </div>
                        <div style="display: flex; align-items: center; justify-content: center">
                            <img src="img/vue.svg" class="pure-img" style="width: 35px">
                            <div data-fragment-index="6" class="fragment fade-in replace">
                                <img src="img/victory1.png" class="pure-img" style="height: 23vh">
                            </div>
                            <img src="img/no4.png" class="pure-img fragment fade-out replace"
                                style="height: 20vh; margin-top: 3vh" data-fragment-index="6">
                        </div>
                        <div style="display: flex; align-items: center; justify-content: center">
                            <img src="img/js.png" class="pure-img" style="width: 30px">
                            <div data-fragment-index="6" class="fragment fade-in replace">
                                <img src="img/thumb1.png" class="pure-img" style="height: 20vh; margin-top: 3vh">
                            </div>
                            <img src="img/dunno.png" class="pure-img fragment fade-out replace"
                                style="height: 20vh; margin-top: 3vh" data-fragment-index="6">
                        </div>
                    </div>
                </section>
            </section>
            <section data-background-image="" data-transition="zoom">
                <section data-transition="zoom" data-background-image>
                    <div class="header-margin">
                        <h1 style="margin: 0; font-size: 1.75em">Server-side
                            rendered micro-frontends
                        </h1>
                        <h2 style="font-size: 1.25em">on <span class="fragment highlight-green">AWS</span> Lambda</h2>
                    </div>
                    <div class="header-logo"></div>
                </section>
                <section data-transition="zoom" data-background-transition="zoom"
                    data-background-image="img/cool-names.png" data-background-size="contain">
                </section>
            </section>
            <section data-background-image="" data-transition="zoom">
                <section data-transition="zoom" data-background-image>
                    <div class="header-margin">
                        <h1 style="margin: 0; font-size: 1.75em">Server-side
                            rendered micro-frontends
                        </h1>
                        <h2 style="font-size: 1.25em">on <span class="fragment highlight-green">AWS Lambda</span></h2>
                    </div>
                    <div class="header-logo"></div>
                </section>
                <section>
                    <h3>
                        <a href="https://expeditedsecurity.com/aws-in-plain-english/">aws-in-plain-english</a>
                    </h3>
                    <a href="https://expeditedsecurity.com/aws-in-plain-english/lambda/" style="display: block"
                        class="fragment" data-fragment-index="1">
                        <img src="img/lambda.png" class="pure-img fragment fade-out replace" data-fragment-index="2">
                        <img src="img/lambda-red.png" class="pure-img fragment fade-in replace" data-fragment-index="2">
                    </a>
                    <aside class="notes">
                        A single function. What it returns = response body
                        <br>
                        Under the hood - NodeJS!
                    </aside>
                </section>
                <section>
                    <pre style="width: 45%; display: inline-block" class="fragment" data-fragment-index="4"><code class="javascript" data-trim style="font-size: .5em; line-height: 1.05;">
                        module.exports.batch = (event, context, callback) => {
                          hypernova(
                            event,
                            {
                              getComponent(name) {
                                switch (name) {
                                  case 'Tiles':
                                    return renderComponent(renderReactWithApollo, name);
                                  case 'Search':
                                    return renderComponent(renderVue, name);
                                  default:
                                    return null;
                                }
                              }
                            },
                            callback
                          );
                        };
                    </code></pre>
                    <pre style="width: 45%; display: inline-block" class="fragment" data-fragment-index="5"><code class="javascript" data-trim style="font-size: .5em; line-height: 1.05;">
                        module.exports.home = async (event) => {
                          const name = 'Morty';
                          const jobs = {
                            Search: {
                              input: name
                            },
                            Tiles: {
                              name
                            }
                          };
                          return {
                            statusCode: 200,
                            headers: {
                              'Content-Type': 'text/html'
                            },
                            body: html(await renderer.render(jobs))
                          };
                        };
                    </code></pre>
                    <div class="fragment" data-fragment-index="3">
                        <a href="https://serverless.com/">
                            <img src="img/serverless.png" class="pure-img" style="width: 15em;">
                        </a>
                    </div>
                    <div>
                        <img src="img/awsl.png" class="pure-img" style="width: 5em">
                        <img src="img/af.png" class="pure-img fragment" data-fragment-index="1" style="width: 5em">
                        <img src="img/gcf.png" class="pure-img fragment" data-fragment-index="2" style="width: 5em">
                    </div>
                    <p>
                        <small class="fragment">[demo]</small>
                    </p>
                    <aside class="notes">
                        4th implementation/provider - serverless-offline
                        <br>
                        Sorry, no AWS URLs from my account, just local environment
                    </aside>
                </section>
                <section>
                    <h2>Moar</h2>
                    <ul>
                        <li class="fragment">
                            Same stuff, but AWS S3 for the client part:
                            <a
                                href="https://medium.com/js-dojo/serverless-micro-frontends-using-vue-js-aws-lambda-and-hypernova-835d6f2b3bc9">
                                link
                            </a>
                        </li>
                        <li class="fragment">Other great articles by
                            <a href="https://medium.com/@felipegaiacharly">@felipegaiacharly</a>
                            <ul>
                                <li class="fragment"><code>hypernova-vue</code></li>
                                <li class="fragment"><code>hypernova-lambda</code></li>
                            </ul>
                        </li>
                    </ul>
                </section>
            </section>
            <section data-background-image="" data-transition="zoom">
                <section data-transition="zoom">
                    <h2 class="fragment" data-fragment-index="5">Thanks!</h2>
                    <a href="https://twitter.com/aarongreenlee/status/552521061603225601">
                        <img src="img/bugless.png" class="pure-img">
                    </a>
                    <ul>
                        <li class="fragment" data-fragment-index="1">
                            10 JS trends:
                            <a href="https://mat3e.github.io/trends">
                                mat3e.github.io/trends
                            </a>
                        </li>
                        <li class="fragment" data-fragment-index="2">
                            <a href="https://gigacon.org/event/19275/">Angular, JavaScript, front-end</a> workshop
                        </li>
                        <li class="fragment" data-fragment-index="3">
                            <a href="https://mat3e.github.io/talks/micro-frontends/WarsawJS.html">
                                mat3e.github.io/talks/micro-frontends/WarsawJS
                            </a>
                        </li>
                        <li class="fragment" data-fragment-index="4">
                            <a href="https://github.com/mat3e/ssr">
                                github.com/mat3e/ssr
                            </a>
                        </li>
                    </ul>
                </section>
            </section>
        </div>
    </div>
    <script src="js/head.min.js"></script>
    <script src="js/reveal.js"></script>
    <script src="js/babel.min.js"></script>
    <script>
        const controls = (function () {
            Reveal.initialize({
                history: true,
                // - null: Media will only autoplay if data-autoplay is present
                autoPlayMedia: null,
                transition: 'slide', // none/fade/slide/convex/concave/zoom
                transitionSpeed: 'default', // default/fast/slow
                backgroundTransition: 'fade', // none/fade/slide/convex/concave/zoom
                dependencies: [
                    { src: 'js/classList.js', condition: function () { return !document.body.classList; } },

                    { src: 'js/marked.js', condition: function () { return !!document.querySelector('[data-markdown]'); } },
                    { src: 'js/markdown.js', condition: function () { return !!document.querySelector('[data-markdown]'); } },

                    // Syntax highlight for <code> elements
                    { src: 'js/highlight.js', callback: function () { setTimeout(() => hljs.initHighlightingOnLoad(), 0); } },

                    // Zoom in and out with Alt+click
                    { src: 'js/zoom.js' },

                    { src: 'notes/notes.js' },

                    { src: 'js/math.js' }
                ]
            });

            document.querySelectorAll('.reveal .slides section:not([data-background-image])').forEach(s => {
                s.setAttribute('data-background-image', 'img/twitter.png');
                s.setAttribute('data-background-size', '240px');
                s.setAttribute('data-background-position', '20px 20px');
            });

            return {
                evalCode(btn) {
                    eval(extractCodeBeforeButton(btn));
                },
                async fetch(btn) {
                    const pres = extractAllPreBeforeButton(btn);
                    const [method, url] = filterFor(pres, 'url').innerText.split(' ');
                    const body = filterFor(pres, 'body').innerText;
                    const response = filterFor(pres, 'response').firstElementChild;
                    const json = JSON.stringify(
                        await (
                            await fetch(url, {
                                method,
                                mode: 'cors',
                                cache: 'no-cache',
                                credentials: 'same-origin',
                                headers: {
                                    'Content-Type': 'application/json'
                                },
                                redirect: 'follow',
                                referrerPolicy: 'no-referrer',
                                body
                            })
                        ).json(),
                        null,
                        2
                    );
                    response.innerText = json;
                    response.focus();
                    btn.focus();
                }
            }
            function extractCodeBeforeButton(btn) {
                return extractAllPreBeforeButton(btn)[0].innerText;
            }
            function extractAllPreBeforeButton(btn) {
                return [...btn.parentElement.querySelectorAll('pre')].filter(e => getComputedStyle(e).display !== 'none');
            }
            function filterFor(arr, text) {
                return arr.filter(e => e.firstElementChild.dataset.forJs === text)[0];
            }
        })();
    </script>
</body>

</html>